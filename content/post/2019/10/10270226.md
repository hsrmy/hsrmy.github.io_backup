---
title: "Python＋Pillow＋NumPyの開発環境構築"
date: 2019-10-27T02:26:27+09:00
draft: false
summary: "Python＋Pillow＋NumPyの開発環境を構築する手順の解説」と「画像を読み込んでPC画面に表示するコードと実行結果を示せ」という講義のレポートが出されたので、メモ代わりとして"
---
「Python＋Pillow＋NumPyの開発環境を構築する手順の解説」と「画像を読み込んでPC画面に表示するコードと実行結果を示せ」という講義のレポートが出されたので、メモ代わりとして

## 前提条件
- Macを使っている<br>
WindowsやLinuxを使っている人はPython 3.x系と`pip`をインストールして、[2. PillowとNumPyのインストール](#2-pillowとnumpyのインストール)に進んでください。(Linuxだと最初から入ってるディストリビュータが多いんじゃないかな)
- Homebrewをインストール済みである<br>
Homebrewをインストールしていない人は[ここ](https://ie.u-ryukyu.ac.jp/install_2019/SLIDE/brew.html#1)(頑張って作った...)や[Homebrew公式サイト](https://brew.sh/index_ja)を見てインストールしてください

※ Mac使っていて、Pythonをvirtualenvとかpyenvの環境下で使いたい人は、pipコマンドが使えるようにしてから[2. PillowとNumPyのインストール](#2-pillowとnumpyのインストール)に進んでください。

## 1. Pythonのインストール
`brew install python` を実行するとその時点での最新バージョンのPythonがインストールされる。<br>以下は`brew install python`の実行結果。

```none
hsrmy@hsrmy-MBP:~ $ brew install python
==> Installing python
==> Downloading https://homebrew.bintray.com/bottles/python-3.7.4_1.mojave.bottl
==> Downloading from https://akamai.bintray.com/38/387e32b735f3273bee16e8d8d2068
######################################################################## 100.0%
==> Pouring python-3.7.4_1.mojave.bottle.1.tar.gz
==> /usr/local/Cellar/python/3.7.4_1/bin/python3 -s setup.py --no-user-cfg insta
==> /usr/local/Cellar/python/3.7.4_1/bin/python3 -s setup.py --no-user-cfg insta
==> /usr/local/Cellar/python/3.7.4_1/bin/python3 -s setup.py --no-user-cfg insta
==> Caveats
Python has been installed as
  /usr/local/bin/python3

Unversioned symlinks `python`, `python-config`, `pip` etc. pointing to
`python3`, `python3-config`, `pip3` etc., respectively, have been installed into
  /usr/local/opt/python/libexec/bin

If you need Homebrew's Python 2.7 run
  brew install python@2

You can install Python packages with
  pip3 install <package>
They will install into the site-package directory
  /usr/local/lib/python3.7/site-packages

See: https://docs.brew.sh/Homebrew-and-Python
==> Summary
🍺  /usr/local/Cellar/python/3.7.4_1: 3,958 files, 60.5MB
```

Pythonが正しくインストールされたことを確認するために、`python3 --version`を実行する。以下のように`Python 3.x.x`と表示されたら、きちんとインストールされている。
```none
hsrmy@hsrmy-MBP:~ $ python3 --version
Python 3.7.4
```
この場合Python 3.7.4がインストールされている。もし出てこない場合は環境変数`PATH`に`/usr/local/bin`が含まれているか確認。
## 2. PillowとNumPyのインストール
pipコマンドを使ってPillowとNumPyをインストールしていく。 pipコマンドを使うとPythonパッケージのインストールなどができる。

環境によってはPython 2.x系のpipコマンドが`pip`、Python 3.x系のpipコマンドが`pip3`の場合がある。(`pip --version`を実行すると最後にPythonのバージョンが出るので、それで判断してもいいかも)<br>2019年10月27日現在は`brew install python`でPython 3.x系をインストールするとPython 3.x系のpipコマンドは`pip3`。

そのためPython 3.x系のpipコマンドが`pip`の場合は、以降の`pip3 〜`を`pip 〜`と変更。

`pip3 list`を実行するとインストールされているPythonパッケージが確認できる。<br>以下は自分の環境で`pip3 list`を実行した結果。
```none
hsrmy@hsrmy-MBP:~ $ pip3 list
Package              Version
-------------------- -------
absl-py              0.7.1
appnope              0.1.0
astor                0.8.0
attrs                19.1.0
backcall             0.1.0
bleach               3.1.0
blockdiag            1.5.4
cycler               0.10.0
decorator            4.4.0
defusedxml           0.6.0
entrypoints          0.3
funcparserlib        0.3.6
gast                 0.2.2
google-pasta         0.1.7
grpcio               1.22.0
h5py                 2.9.0
imageio              2.5.0
ipykernel            5.1.1
ipython              7.5.0
ipython-genutils     0.2.0
ipywidgets           7.4.2
jedi                 0.13.3
Jinja2               2.10.1
joblib               0.13.2
jsonschema           3.0.1
jupyter              1.0.0
jupyter-client       5.2.4
jupyter-console      6.0.0
jupyter-core         4.4.0
Keras-Applications   1.0.8
Keras-Preprocessing  1.1.0
kiwisolver           1.1.0
Markdown             3.1.1
MarkupSafe           1.1.1
matplotlib           3.1.0
mistune              0.8.4
nbconvert            5.5.0
nbformat             4.4.0
notebook             5.7.8
numpy                1.16.3
nwdiag               1.0.4
pandas               0.24.2
pandocfilters        1.4.2
parso                0.4.0
pexpect              4.7.0
pickleshare          0.7.5
Pillow               6.0.0
pip                  19.2.3
prometheus-client    0.6.0
prompt-toolkit       2.0.9
protobuf             3.9.0
ptyprocess           0.6.0
pydotplus            2.0.2
Pygments             2.4.0
pygn                 0.10.1
pyparsing            2.4.0
pyrsistent           0.15.2
python-dateutil      2.8.0
pytz                 2019.1
pyzmq                18.0.1
qtconsole            4.4.4
scikit-learn         0.21.1
scipy                1.3.0
seaborn              0.9.0
Send2Trash           1.5.0
setuptools           41.4.0
six                  1.12.0
sklearn              0.0
tensorboard          1.14.0
tensorflow           1.14.0
tensorflow-estimator 1.14.0
termcolor            1.1.0
terminado            0.8.2
testpath             0.4.2
tornado              6.0.2
traitlets            4.3.2
watermark            1.8.1
wcwidth              0.1.7
webcolors            1.8.1
webencodings         0.5.1
Werkzeug             0.15.5
wheel                0.33.6
widgetsnbextension   3.4.2
wrapt                1.11.2
```
`pip3 install numpy Pillow`でPillowとNumPyをインストールする。<br>以下は自分の環境で`pip3 install numpy Pillow`を実行した結果。
```none
hsrmy@hsrmy-MBP:~ $ pip3 install numpy Pillow
Requirement already satisfied: numpy in /usr/local/lib/python3.7/site-packages (1.16.3)
Requirement already satisfied: Pillow in /usr/local/lib/python3.7/site-packages (6.0.0)
```
既にPillowとNumPyがインストールされていた為、既にあると出力された。(`pip3 list`を実行した時の結果の中にPillowとNumPyがある)

以上でPillowとNumPyのインストールは完了。
## 3. 動作確認
今回は下の2018年の台風24号で停電した時の写真をPC画面に表示させる。
{{< figure src="/images/10270226/DSC_1014.jpg" alt="台風の時の停電対策" class="center" width="640" height="320" >}}

実行したコード
```python
from PIL import Image, ImageFilter

im = Image.open('Desktop/DSC_1014.jpg')
im.show()
```
実行結果
{{< figure src="/images/10270226/ScreenShot.png" alt="実行結果" class="center" width="557" height="342" >}}

### 参考
- [Pythonの画像処理ライブラリPillow(PIL)の使い方 | note.nkmk.me](https://note.nkmk.me/python-pillow-basic/)
- [pip - python.jp](https://www.python.jp/install/windows/pip.html)
